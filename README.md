# clickhouse-FTS

https://github.com/RediSearch/ftsb

Сравнение систем https://habr.com/ru/post/581394/
Сделано продавцами Эластика
Неспортивно - маленький датасет, надо бы увеличивать на 1-3 (!) порядка
Ориентир - 1Tb компресованных данных
Почему-то сравнивают на поиске по распространенным словам - кому это надо? Почему не редкие/сбалансированные?

Делаем обратный индекс в виде таблички это лучше чем bloom

Индексы
- индексы без партиционирования
- индексы соответствуют партиционированию исходных данных
- гранулярность индексов 256

Токены
- встроенный стемминг по словарю
- токены в виде хешей
- категории и метки (labels) - отдельно в данных и в индексе

Идентификаторы
- хеш от статьи
- автоинкремент (нужен внешний)

Укрупнение статей 
- для уменьшения кардинальности идентификаторов
- прямой поиск внутри большого объекта

Время и таймстемпы
- у статьи всегда есть таймстемп
- может быть идентификатором
- отдельно день и секунды с начала суток  

Ранжирование
- количество найденных слов
- их частотная важность
- время
